#include "implementation.oil"
CPU ATMEL_AT91SAM7S256
{
 OS LEJOS_OSEK
 {
 STATUS = EXTENDED;
 STARTUPHOOK = FALSE;
 ERRORHOOK = FALSE;
 SHUTDOWNHOOK = FALSE;
 PRETASKHOOK = FALSE;
 POSTTASKHOOK = FALSE;
 USEGETSERVICEID = FALSE;
 USEPARAMETERACCESS = FALSE;
 USERESSCHEDULER = FALSE;
 };

APPMODE appmode1{}; 

TASK Init
{
	AUTOSTART = TRUE {
		APPMODE = appmode1;
	};
	PRIORITY = 10;
	ACTIVATION = 1;
	SCHEDULE = FULL;
	STACKSIZE = 512;
};

TASK Main
{
	AUTOSTART = FALSE;
	PRIORITY = 10;
	ACTIVATION = 1;
	SCHEDULE = FULL;
	STACKSIZE = 512;
};


COUNTER alarmCounter {
	MINCYCLE = 16;
	MAXALLOWEDVALUE = 2000000;
	TICKSPERBASE = 1;
};

ALARM WakeMain {
	COUNTER = alarmCounter;
	ACTION = ACTIVATETASK {
		TASK = Main;
	};
	AUTOSTART = TRUE {
		ALARMTIME = 50;
		CYCLETIME = 100;
		APPMODE = appmode1;
	}; 
}; 



};